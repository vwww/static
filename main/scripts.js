var vsite={ANIMSPEED:1E3,browse:function(a,h){function b(a){for(var b=count=0;b<a.length;count+=+("/"===a[b++]));return count}var d=h?0:vsite.ANIMSPEED,k=$("ol#sites > li");k.filter(function(b){return $(this).attr("data-path")==a}).length||(a="");var e=$("p#breadcrumbs");e.text("/");$("<a>").text("[root]").attr("href","#").appendTo(e);var f=a.split();if(f[0])for(var l in f)e.append("/"),$("<a>").text(f[l]).attr("href","#"+f.slice(0,l+1).join("/")).appendTo(e);k.each(function(e,f){var g=$(this),c=g.attr("data-path");void 0==c&&(c="");a!=c&&(a.slice(0,c.length)==c||b(c)==(a?b(a)+1:0)&&c.slice(0,a.length)==a)?g.show(d):g.hide(d)})},uptick:function(){var a=(new Date-new Date(2004,12,20))/365.25/24/3600/1E3;$("span#uptime-years").text(a.toFixed(8));a=a.toString(16);$("span#uptime-years-hex").text(a.slice(0,7+a.indexOf(".")+1))},poke_update:function(a,h){var b=a[0]+" returned / "+a[1]+" checks / "+(100*a[0]/a[1]).toFixed(3)+"% duty cycle";if(a[2])var d=new Date(1E3*a[2][0]),b=b+(' / last poke: <a href="https://www.facebook.com/'+a[2][1]+'">'+a[2][2]+'</a> at <a title="'+d.toString()+'">'+d.toLocaleTimeString()+"</a>");$("span#poke_info").html(b);console.log(a)}};$(document).ready(function(){vsite.browse(location.hash.slice(1),!0);$("span#now").text((new Date).getFullYear());setInterval(vsite.uptick,105);vsite.uptick();$("span#poke_info").text("[getting data]");$.getJSON("https://vfbbot.appspot.com/stats?callback=?",function(a){vsite.poke_update(a,!0)});(new Fpp.Client("http://pubsub.fanout.io/r/20018da6")).Channel("p").on("data",vsite.poke_update)});$(window).bind("hashchange",function(a){vsite.browse(location.hash.slice(1))});